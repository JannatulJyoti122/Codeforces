#include<bits/stdc++.h>
using namespace std;
using ll =long long int;
int main(){
    int tt;
    cin>>tt;
    while(tt--){
        ll n,k;
        cin>>n>>k;
        map<ll,ll>mp;
        ll a[n];
        for(ll i=0;i<n;i++){
            cin>>a[i];
            mp[a[i]]++;
        }
        sort(a,a+n);
        ll missing=0;
        for(ll i=0;i<n;i++){
            if(a[i]==missing) missing++;
            if(a[i]>missing) break;
        }
        ll sum=0;
        ll ct=0;
        ll min_val=1e9+10;
        for(ll i=0;i<n;i++){
            if(mp[a[i]]==1&&a[i]<missing) {
                sum+=a[i];
                continue;
            }
            ct++;
            min_val=min(min_val,a[i]);

        }
        ll ct1=0;
        ll sum2=0;
        for(int i=0;i<n;i++){
            if(mp[a[i]]==1&&a[i]<min_val) sum2+=a[i];
            else ct1++;

        }
        if(k==1||ct==1||ct==0){
            cout<<sum+(ct*missing)<<endl;
            continue;
        }
        if(min_val>missing){
            if(k%2==1) cout<<sum+(ct*missing)<<endl;
            else cout<<sum+(ct*(missing+1))<<endl;
        }
        else if(min_val<missing){
            if(k%2==0) cout<<sum2+(ct1*min_val)<<endl;
            else cout<<sum2+(ct1*(min_val+1))<<endl;
        }
    }
}
